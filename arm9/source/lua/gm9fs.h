#pragma once
#include "gm9lua.h"

#define GM9LUA_FSLIBNAME "fs"

// this should probably go in filesys/fsutil.h
#define RECURSIVE       (1UL<<11)

#define FLAGS_STR       "no_cancel", "silent", "hash", "sha1", "skip", "overwrite", "append_all", "all", "recursive"
#define FLAGS_CONSTS    NO_CANCEL, SILENT, CALC_SHA, USE_SHA1, SKIP_ALL, OVERWRITE_ALL, APPEND_ALL, ASK_ALL, RECURSIVE
#define FLAGS_COUNT     9

#define SHA256_EMPTY_HASH \
    0xE3, 0xB0, 0xC4, 0x42, \
    0x98, 0xFC, 0x1C, 0x14, \
    0x9A, 0xFB, 0xF4, 0xC8, \
    0x99, 0x6F, 0xB9, 0x24, \
    0x27, 0xAE, 0x41, 0xE4, \
    0x64, 0x9B, 0x93, 0x4C, \
    0xA4, 0x95, 0x99, 0x1B, \
    0x78, 0x52, 0xB8, 0x55

#define SHA1_EMPTY_HASH \
    0xDA, 0x39, 0xA3, 0xEE, \
    0x5E, 0x6B, 0x4B, 0x0D, \
    0x32, 0x55, 0xBF, 0xEF, \
    0x95, 0x60, 0x18, 0x90, \
    0xAF, 0xD8, 0x07, 0x09

int gm9lua_open_fs(lua_State* L);
